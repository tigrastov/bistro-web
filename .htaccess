# Включаем mod_rewrite
RewriteEngine On
RewriteBase /

# --- Редирект на HTTPS ---
RewriteCond %{HTTPS} !=on
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

# --- SPA fallback (React Router) ---
# Если запрошенный путь не является файлом или директорией —
# отправляем на index.html
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.html [L]

# --- Кеширование статики ---
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType text/css "access plus 30 days"
  ExpiresByType application/javascript "access plus 30 days"
  ExpiresByType image/* "access plus 30 days"
</IfModule>